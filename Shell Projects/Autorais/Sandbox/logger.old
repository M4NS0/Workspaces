#!/bin/bash

files=$(yad --width 100 --height 100  --image image.jpeg  --title "ActivLog!" \--text="\n\n\n\n\nActivLog - Cria um registro de atividade de estudo.Esse registro pode servir como uma Api para alimentar tabelas, com fins estatísticos. O registro será gravado no arquivo Api.txt contido na pasta do programa.\n\n" \
		--button="Atividade:2" \
		--button="Assunto da Atividade:3" \
		--button="Gravar e enviar para Drive:4" \
		--button="Abrir dados (Google Sheets):5" \
		--button="Abrir dados (Gedit):6" \
		--button="Enviar Api alterada para Núvem" \
		--button="Cancel:1" \
		--on-top \
		--center \
)
ret=$?
[[ $ret -eq 1 ]] && exit 0 #sair

if [[ $ret -eq 2 ]]; then #Instala
atividade=$(yad --form --title "Insira o nome da atividade efetuada:" --field="\tManutenção, Planejamento, Linguagem de Programação, Tarefas, Desenvolvimento...:       ")
yad --form --title "ActivLog!" --text="\n\n\tA atividade selecionada é:  $atividade     \n\n"
echo ${atividade} >> Api.txt
./logger
fi

if [[ $ret -eq 3 ]]; then
assunto=$(yad --form --title "Insira o assunto: " --field="\tJava, Python, Julia, C ++ ou ainda IDEs, Instalação de Ferramentas, Sistema Operaçional, Códigos...:      ")
yad --form --title "ActivLog!" --text="\n\n\tO Assunto selecionado é:  $assunto      \n\n"
echo ${assunto} >> Api.txt
./logger
fi

if [[ $ret -eq 4 ]]; then
gdrive-linux-x64 download --force 1lAvKPS2DFAoD7nzvhZ7toNHBmybN5-xn
if [[ $ret -eq 4 ]]; then
uptime=$(uptime)
uptimeP=$(uptime -p )
echo ${uptime}  >> Api.txt
echo ${uptimeP} >> Api.txt
data=$(date -u)
echo ${data} >> Api.txt
echo "" >> Api.txt
gdrive-linux-x64 update 1lAvKPS2DFAoD7nzvhZ7toNHBmybN5-xn Api.txt
yad --form --title "ActivLog" --text="\n\tDados Coletados e Gravados no Drive com sucesso!\n"
./logger
fi

if [[ $ret -eq 5 ]]; then
bash /usr/bin/firefox --new-window "https://docs.google.com/spreadsheets/d/1KIpallGHLz6bXUT6Sp_Qmgu3LkNR5jqZKkE-yv58bkY/edit#gid=986369796"
./logger
fi

if [[ $ret -eq 6 ]]; then
gedit Api.txt
./logger
fi

if [[ $ret -eq 7 ]]; then
gdrive-linux-x64 update 1lAvKPS2DFAoD7nzvhZ7toNHBmybN5-xn Api.txt
yad --form --title "ActivLog" --text="\n\tA Api foi atualizada com sucesso!\n"
./logger
fi
./logger